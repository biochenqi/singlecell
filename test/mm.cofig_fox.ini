
title="中山大学附属第六医院"
specis="小鼠"
organ="皮下肿瘤组织"


[fastp_cellrange]
NC.R1=["/haptech/tech_rawfq/202401/240110_A00174_0238_AH3GVLDSXC/S118_zs6y-A_HGC-Lib-2361976_AH3GVLDSXC_S2_L002_R1_001.fastq.gz","/haptech/tech_rawfq/202401/240101_A00472_0262_BH2WNYDSXC/S009_zs6y-A_HGC-Lib-2361976_BH2WNYDSXC_S9_L001_R1_001.fastq.gz","/haptech/tech_rawfq/202312/231219_A00174_0231_BHVJN3DSX7/S033_zs6y-A_HGC-Lib-2361976_BHVJN3DSX7_S1_L003_R1_001.fastq.gz","/haptech/tech_rawfq/202401/240114_A00472_0266_BH3CNJDSXC/S176_zs6y-A_HGC-Lib-2361976_BH3CNJDSXC_S1_L003_R1_001.fastq.gz","/haptech/tech_rawfq/202401/240116_A00312_0547_AH3CMLDSXC/S240_zs6y-A_HGC-Lib-2361976_AH3CMLDSXC_S2_L004_R1_001.fastq.gz"]
NC.R2=["/haptech/tech_rawfq/202401/240110_A00174_0238_AH3GVLDSXC/S118_zs6y-A_HGC-Lib-2361976_AH3GVLDSXC_S2_L002_R2_001.fastq.gz","/haptech/tech_rawfq/202401/240101_A00472_0262_BH2WNYDSXC/S009_zs6y-A_HGC-Lib-2361976_BH2WNYDSXC_S9_L001_R2_001.fastq.gz","/haptech/tech_rawfq/202312/231219_A00174_0231_BHVJN3DSX7/S033_zs6y-A_HGC-Lib-2361976_BHVJN3DSX7_S1_L003_R2_001.fastq.gz","/haptech/tech_rawfq/202401/240114_A00472_0266_BH3CNJDSXC/S176_zs6y-A_HGC-Lib-2361976_BH3CNJDSXC_S1_L003_R2_001.fastq.gz","/haptech/tech_rawfq/202401/240116_A00312_0547_AH3CMLDSXC/S240_zs6y-A_HGC-Lib-2361976_AH3CMLDSXC_S2_L004_R2_001.fastq.gz"]
XSZLTM.R1=["/haptech/tech_rawfq/202401/20240117_LH00128_0062_B22CWK7LT3/S267_zs6y-A_HGC-Lib-2366989_B22CWK7LT3_S1_L007_R1_001.fastq.gz","/haptech/tech_rawfq/202401/20240109_LH00128_0058_A222LGLLT4/S377_zs6y-A_HGC-Lib-2366989_A222LGLLT4_S13_L008_R1_001.fastq.gz","/haptech/tech_rawfq/202401/20240105_LH00348_0067_B222KHVLT4/S335_zs6y-A_HGC-Lib-2366989_B222KHVLT4_S1_L007_R1_001.fastq.gz","/haptech/tech_rawfq/202401/20240113_LH00128_0060_B22CWJLLT3/S244_zs6y-A_HGC-Lib-2366989_B22CWJLLT3_S1_L007_R1_001.fastq.gz","/haptech/tech_rawfq/202401/20240120_LH00128_0064_A222KHWLT4/S143_zs6y-A_HGC-Lib-2366989_A222KHWLT4_S1_L008_R1_001.fastq.gz"]
XSZLTM.R2=["/haptech/tech_rawfq/202401/20240117_LH00128_0062_B22CWK7LT3/S267_zs6y-A_HGC-Lib-2366989_B22CWK7LT3_S1_L007_R2_001.fastq.gz","/haptech/tech_rawfq/202401/20240109_LH00128_0058_A222LGLLT4/S377_zs6y-A_HGC-Lib-2366989_A222LGLLT4_S13_L008_R2_001.fastq.gz","/haptech/tech_rawfq/202401/20240105_LH00348_0067_B222KHVLT4/S335_zs6y-A_HGC-Lib-2366989_B222KHVLT4_S1_L007_R2_001.fastq.gz","/haptech/tech_rawfq/202401/20240113_LH00128_0060_B22CWJLLT3/S244_zs6y-A_HGC-Lib-2366989_B22CWJLLT3_S1_L007_R2_001.fastq.gz","/haptech/tech_rawfq/202401/20240120_LH00128_0064_A222KHWLT4/S143_zs6y-A_HGC-Lib-2366989_A222KHWLT4_S1_L008_R2_001.fastq.gz"]

[indata]
NC="workout/00.cellranger/NC/NC/outs/filtered_feature_bc_matrix"
XSZLTM="workout/00.cellranger/XSZLTM/XSZLTM/outs/filtered_feature_bc_matrix"


#lung01="/haplox/haprs/liyq/singlecell/test/mmu10/workout/00.cellranger/lung01/outs/filtered_feature_bc_matrix"
#liver01="/haplox/haprs/liyq/singlecell/test/mmu10/workout/00.cellranger/liver01/outs/filtered_feature_bc_matrix"
#heart01="workout/00.cellranger/heart01/heart01/outs/filtered_feature_bc_matrix"

#	NC1="/haplox/haprs/liyq/singlecell/gu/celltest/00.cellranger/NC1/outs/filtered_feature_bc_matrix"
#	NC3="/haplox/haprs/liyq/singlecell/gu/celltest/00.cellranger/NC3/outs/filtered_feature_bc_matrix"
#	NC4="/haplox/haprs/liyq/singlecell/gu/celltest/00.cellranger/NC4/outs/filtered_feature_bc_matrix"
[outpath]
outpath="workout"
#	outpath="/haplox/haprs/liyq/singlecell/gu/celltest"
[tempdata]
#传入的rds的路径，优先考虑默认路径下，其次再在该路径下寻找
tempdata=""

[run]
#运行那些步骤，需要运行的为true，不需要的为false或删除
fastp=true
cellrangle=true
step1=true
step2=true
step3=true
step4=true
step5=true
#step6=true
#step7=true
[getreport]
outpath="getreport"
modepath="/hapbin/users/liyq/pipline/singlecell/bin"
#是否需要fastp、cellranger结果
fastpcell=true
fastpgetreport=["python","/hapbin/users/liyq/pipline/singlecell/bin/QC_report_html.py","30","single_cell"]

[fastp]
fastppath="/usr/fastp"
#R1保留最长长度
longr=28
#N碱基数量
ncode=5
#cellrangle位置
[cellrangle]
#是否使用docker
usedocker=false
#docker内的用户编号
dockerusr="1025:1026"
#映射文件夹
dir="/haplox/haprs/liyq"
#参考基因组,小鼠为：refdata-gex-mm10-2020-A，人为：refdata-gex-GRCh38-2020-A
ref="/hapbin/users/liyq/pipline/singlecell/database/ref/refdata-gex-mm10-2020-A"
expectcell=8000
localcores=32
localmem=64
cellrangpath="/usr/cellranger-6.1.2/cellranger"
include_introns="false"

[step1]
#对每个样本进行QC处理
#输入文件格式,包括10x，csv两种,默认分隔符为""
filetype="10x"
csv_sep=""
#用基因数量过滤,不进行过滤=["-Inf","Inf"]。默认过滤[200,2500]
nFeature_RNA=[200,8000]
#用线粒体百分比过滤，不进行过滤=["-Inf","Inf"]。默认过滤[0,5]
percent_mt=[0,20]
#线粒体类型,人类用MT，小鼠用mt
mttype="mt"
[step2]
#过滤锚点时要使用多少个细胞，默认200（样本数小于该数值会报错，所以这里剔除小于该数值的样本）
kfilter=200
#合并方法，默认用SCT,还可以使用vst,还可以单纯合到一起，不进行处理，none
normethod="SCT"
#如果方法为SCT且数据集较大，下列选项需打开并指定关键数据集
#reference=["GSM4041158_healthy4_cd45pos","GSM4041164_cirrhotic2_cd45pos","GSM4041172_blood3","P3TLH","HCCP2","P308","GSM4041154_healthy2_cd45neg","GSM4041165_cirrhotic2_cd45neg"]
#用于后续分析的基因，默认3000
nFeature=3000

[step3]
#进行pca以及UMAP或TSNE分析
#绘制pca的heatmap图的数量
heatmapnumber=9
#选择elbow图显示的PC数量
elbowdims=50
#选择使用的PC数量
dims=30
#主要绘制tsne图("tsne")orUMAP图("umap")，默认umap图
reduction="umap"
#是否需要Cluster the cells(数据量越大速度越慢),resolution越高分得越细，默认0.6
clustercell=true
resolution=0.6
#Cluster模块化优化算法(1 =原始Louvain算法； 2 =具有多级细化的Louvain算法； 3 = SLM算法； 4 = Leiden算法(该算法暂时无法使用))
algorithm=1
#singleR database 地址
singler="/hapbin/users/liyq/pipline/singlecell/bin/singleRdata/test.rds"
[step4]
#cluster biomarkers,寻找cluster的差异基因
#是否需要找Cluster的差异表达基因
clustermarkers=true
	#marker基因所占细胞数的最低比例,默认0.25
	min_pct=0.25
#找差异基因的方法“ wilcox”：使用Wilcoxon秩和检验（默认） “ bimod”：似然比测试。“ roc”：ROC分析识别。“ t”：使用学生t检验“ negbinom”：使用负二项式广义线性模型。“poisson”：泊松广义线性模型
#“ LR”：逻辑回归。“ MAST”：跨界模型利用MAST包运行DE测试。“ DESeq2”：基于使用负二项式分布的DESeq2模型要使用此方法，请按照https://bioconductor.org/packages/release/bioc/html/DESeq2.html上的说明安装DESeq2。
	findmarkers_testuse="wilcox"
#自定义需要展示的基因，示例为常见marker基因,格式为：custer.XXX=["THBS1","testgene"]
#v2
#custer.markgene=["IL7R","CCR7","S100A4","CD14","LYZ","MS4A1","CD8A","FCGR3A","MS4A7","GNLY", "NKG7","FCER1A", "CST3","PPBP"]
custer.markgene=["Il7r","Ccr7","S100a4","Cd14","Lyz","Ms4a1","Cd8a","Fcgr3a","Ms4a7","Gnly", "Nkg7","Fcer1a", "Cst3","Ppbp"]
#custer.test=["S100A12", "ALOX5AP", "PAD14", "NRG1", "MCEMP1", "THBS1","testgene"]
#custer.T_cell=["CD3E","CD5","CD2","CD7"]
#custer.T_cytotoxic=["CD8A","CD3E","CD5","CD2","CD7","CD8A","PTPRC"]
#custer.T_helper=["CD4","CD3E","CD5","CD2","CD7","ABCB1","CAPG","CD69","DPP4","DUSP1","GZMK","IFNGR1","PARP8","PVRIG","SLC4A10"]
#custer.Treg=["FOXP3","CD4","CD3E","IL2RA","PDCD1","CTLA4","TIGHT"]
#custer.T_memory=["PTPRC","CD4","CD3E"]
#custer.Naïve_T_cell=["CD3E","PTPRC","CCR7"]
#custer.Central_Memory_T=["CD3E","PTPRC","CCR7"]
#custer.Effector_Memory_T=["CD3E","PTPRC","CCR7"]
#custer.Effector_T=["CD3E","PTPRC","CCR7"]
#custer.B_cell=["MS4A1","CD79A","PAX5","ITGAM","CD19","CD3E","CD14","MS4A1","BLK","FCRL2","KIAA0125","TNFRSF17","TCL1A","SPIB","PNOC"]
#custer.NK_cells=["NCAM1","CD2","CD7","CD8A","B3GAT1","ITGAM","FCGR3A","ITGA1","GNLY","NKG7","XCL1","XCL2","NCR1"]
#custer."Tumorassociated_macrophages_TAM"=["CD68","CD163","FCER2"]
#custer."Mature_dendritic_cells"=["LAMP3","HLA","DR","CD80","CD86","ITGAX","FCER1A","CST3","CCL13","CD209","HSD11B1"]
#custer."Immature_dendritic_cells"=["CD1A","HLA","DR"]
#custer."Myeloid_derived_suppressor_cells_MDSC"=["CD33","ITGAM","FUT4","CD14"]
#custer.Myeloid_cell=["CD33","ITGAM"]
#custer.Leucocyte=["PTPRC"]
#custer.Macrophages=["CD68","CD163","ITGAM","CD84","MS4A4A"]
#custer.M2_macrophages=["CD163","MRC1"]
#custer.Monocytes=["CD14"]
#v3
#custer.cellmarkers=["PMEL","MLANA","PECAM1","CD34","VWF","EPCAM","SFN","KRT19","ACTA2","MCAM","MYLK","MYL9","FAP","THY1","ALB"]


#寻找组间差异基因，分为两类，difcluster为寻找不同分组的cluster之间的差异基因,difident为寻找样品间差异基因
#test或tVSn为分组名字可任意写，1、2对应的差异的两组，cluster为数字，ident为字符串，逗号分隔。testuse为使用的方法
#
difcluster.test.a=[0,1]
difcluster.test.b=[2,3]
difcluster.test.testuse="wilcox"

#difcluster.test2.a=[6,5]
#difcluster.test2.b=[7,8]
#difcluster.test2.testuse="bimod"

#difident.tVSn.a=["Q6_T"]
#difident.tVSn.b=["Q6_N"]
#difident.tVSn.testuse="bimod"

#是否需要富集分析，使用的R地址,脚本地址,各项参数(除-f,-n,-o以外的参数),详见culsterProfiler富集分析文档（X04）
ClusterProfiler=["true","Rscript","/hapbin/users/liyq/pipline/singlecell/bin/clusterProfiler.test.R"," -a true -s org.Hs.eg.db,hsa,human -g 6 -t SYMBOL -d KEGG,BioCyc,PID,PANTHER,BIOCARTA -C 0.05"]

[step5]
#使用monocle包进行pseudotime分析
#选择合适的基因来标记状态，截取条件,默认0.5
meanexpression=0.5
#差异分析热图gene数量,聚类的cluster数量
genenum=50
numclusters=4
#BEAM分析使用的分枝点，热图聚类的cluster数量
pointid=1
BEAMnumclusters=4
#BEAM分析热图gene数量
BEAMgn=50
#BEAM分析特定gene名
BEAMgenelist=["S100a12", "Alox5ap", "Pad14", "Nrg1", "Mcemp1", "Thbs1","testgene"]

#BEAMgenelist=["S100A12", "ALOX5AP", "PAD14", "NRG1", "MCEMP1", "THBS1","testgene"]
[getreportconfig]
